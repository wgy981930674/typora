var a=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var R=a(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.isStartCharacter=m.isEndCharacter=m.isWordBoundary=m.isAlphabet=m.isInlineBlank=m.isBlank=m.isFullwidthPunctuation=m.isCJK=m.isNumeric=m.isPunctuationCharacter=m.markdownSpecial=void 0;var Ai=/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]$/,$i=/^[、，：。？！；：【】（）「」﹁﹂『』《》〈〉“”‘’﹏…—～‧·]$/;m.markdownSpecial=new Set(["*","-","[","]","(",")","<",">",'"',"'","!","=","$"]);function Rt(e){return typeof e!="string"?!1:!!(Ai.exec(e)||Dt(e))}m.isPunctuationCharacter=Rt;function Ei(e){return e>="0"&&e<="9"}m.isNumeric=Ei;function Fi(e){return e>="\u4E00"&&e<="\u9FFF"||e>="\u3400"&&e<="\u4DBF"||e>="\uF900"&&e<="\uFAFF"}m.isCJK=Fi;function Dt(e){return!!$i.exec(e)}m.isFullwidthPunctuation=Dt;function Nt(e){return!!/^\s$/.exec(e)}m.isBlank=Nt;function Qi(e){return e===" "||e==="	"}m.isInlineBlank=Qi;function Hi(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}m.isAlphabet=Hi;function Ji(e){return e===void 0||Nt(e)||Rt(e)}m.isWordBoundary=Ji;function Ki(e){return',;:"!'.includes(e)}m.isEndCharacter=Ki;function zi(e){return'"'.includes(e)}m.isStartCharacter=zi});var K=a(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.isBlockCode=g.isReferenceLink=g.isInlineCode=g.isMath=g.isLatin=g.isUnicodeString=g.isRaw=g.isBlank=g.isQuoted=g.isPunctuation=g.isCJK=g.isAlphabetNumeric=g.isDocument=void 0;function Wi(e){return e.kind===32}g.isDocument=Wi;function Tt(e){return e.kind===4}g.isAlphabetNumeric=Tt;function Vi(e){return e.kind===33554432}g.isCJK=Vi;function Gi(e){return e.kind===2}g.isPunctuation=Gi;function Zi(e){return e.kind===2048}g.isQuoted=Zi;function Xi(e){return e.kind===1}g.isBlank=Xi;function Yi(e){return e.kind===1048576}g.isRaw=Yi;function Ut(e){return e.kind===8}g.isUnicodeString=Ut;function er(e){return Ut(e)||Tt(e)}g.isLatin=er;function tr(e){return e.kind===2097152}g.isMath=tr;function ir(e){return e.kind===65536}g.isInlineCode=ir;function rr(e){return e.kind===128}g.isReferenceLink=rr;function nr(e){return e.kind===16}g.isBlockCode=nr});var At=a(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.InlineImage=void 0;var Ee=class{constructor(t,r,o){this.children=t,this.target=r,this.attributes=o,this.kind=262144}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}](${this.target})${t}`}};V.InlineImage=Ee});var $t=a(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});G.ReferenceImage=void 0;var Fe=class{constructor(t,r,o){this.children=t,this.target=r,this.attributes=o,this.kind=524288}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){let t=this.attributes===void 0?"":`{${this.attributes}}`;return`![${this.text()}][${this.target}]${t}`}};G.ReferenceImage=Fe});var Qe=a(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.AlphabetNumeric=void 0;var Et=R(),Z=class e{constructor(t){this.children=[],this.kind=4,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,Et.isAlphabet)(t)||(0,Et.isNumeric)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};X.AlphabetNumeric=Z;Z.cache=new Map});var Je=a(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.UnicodeString=void 0;var He=class{constructor(t){this.children=[],this.kind=8,this.text=t}toMarkdown(){return this.text}static is(t){if(typeof t!="string")return!1;for(let r=0;r<t.length;r++)if(t.charCodeAt(r)<256)return!1;return!0}};Y.UnicodeString=He});var T=a(ee=>{"use strict";Object.defineProperty(ee,"__esModule",{value:!0});ee.Delimited=void 0;var Ke=class{constructor(t,r){this.children=[],this.prefix=t,this.postfix=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.prefix+this.text()+this.postfix}};ee.Delimited=Ke});var Ft=a(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.SquareQuoted=void 0;var sr=T(),ze=class extends sr.Delimited{constructor(t){super("[","]"),this.kind=4096,this.children=t}};te.SquareQuoted=ze});var Qt=a(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.Emphasis=void 0;var or=T(),We=class extends or.Delimited{constructor(t,r="*"){super(r,r),this.children=[],this.kind=32768,this.children=t,this.separator=r}};ie.Emphasis=We});var Ht=a(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.Quoted=void 0;var ur=T(),Ve=class extends ur.Delimited{constructor(t){super('"','"'),this.kind=2048,this.children=t}};re.Quoted=Ve});var Jt=a(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.Strong=void 0;var cr=T(),Ge=class extends cr.Delimited{constructor(t,r){super(r,r),this.children=[],this.kind=16384,this.children=t,this.separator=r}};ne.Strong=Ge});var Kt=a(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.Highlight=void 0;var ar=T(),Ze=class extends ar.Delimited{constructor(t){super("==","=="),this.children=[],this.kind=16777216,this.children=t}};se.Highlight=Ze});var zt=a(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Strikethrough=void 0;var lr=T(),Xe=class extends lr.Delimited{constructor(t){super("~~","~~"),this.children=[],this.kind=8192,this.children=t}};oe.Strikethrough=Xe});var Wt=a(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.Document=void 0;var Ye=class{constructor(t){this.kind=32,this.isDoc=!0,this.children=t}toMarkdown(){return this.children.map(t=>t.toMarkdown()).join("")}};ue.Document=Ye});var Gt=a(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.preOrder=void 0;function Vt(e,t){t(e);for(let r of e.children)Vt(r,t)}ce.preOrder=Vt});var et=a(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.CJK=void 0;var dr=R(),ae=class e{constructor(t){this.children=[],this.kind=33554432,this.text=t}toMarkdown(){return this.text}static is(t){return typeof t!="string"?!1:(0,dr.isCJK)(t)}static create(t){return t.length>1?new e(t):(e.cache.has(t)||e.cache.set(t,new e(t)),e.cache.get(t))}};le.CJK=ae;ae.cache=new Map});var Xt=a($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.compactArray=$.compactTree=void 0;var hr=Je(),fr=Qe(),A=K(),gr=Gt(),pr=et();function mr(e){return(0,gr.preOrder)(e,t=>Zt(t.children)),e}$.compactTree=mr;function Zt(e){let t=0;for(let r=0;r<e.length;r++){let o=e[r];if(t-1>=0){let l=e[t-1];if((0,A.isUnicodeString)(o)&&(0,A.isUnicodeString)(l)){e[t-1]=new hr.UnicodeString(l.text+o.text);continue}if((0,A.isAlphabetNumeric)(o)&&(0,A.isAlphabetNumeric)(l)){e[t-1]=fr.AlphabetNumeric.create(l.text+o.text);continue}if((0,A.isCJK)(o)&&(0,A.isCJK)(l)){e[t-1]=pr.CJK.create(l.text+o.text);continue}}e[t++]=o}for(;e.length>t;)e.pop()}$.compactArray=Zt});var Yt=a(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.HTMLTag=void 0;var tt=class{constructor(t){this.children=[],this.kind=64,this.text=t}toMarkdown(){return`<${this.text}>`}};de.HTMLTag=tt});var ei=a(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.Punctuation=void 0;var C=R(),E=K(),he=class e{constructor(t,r){this.children=[],this.kind=2,this.char=t,this.raw=r!=null?r:t}needPaddingAfter(t,r){return this.isFullSize()||(0,E.isPunctuation)(t)||(0,E.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text[0])&&",.".includes(this.char)||this.char===":"&&(0,E.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text[0])&&r&&(0,E.isAlphabetNumeric)(r)&&(0,C.isNumeric)(r.text[r.text.length-1])?!1:(0,C.isEndCharacter)(this.char)?!0:(0,C.isStartCharacter)(this.char)?!1:!!"<>=".includes(this.char)}needPaddingBefore(t,r){return this.isFullSize()||(0,E.isPunctuation)(t)||(0,E.isAlphabetNumeric)(t)&&(0,C.isNumeric)(t.text.slice(-1))&&",.".includes(this.char)?!1:(0,C.isStartCharacter)(this.char)?!0:(0,C.isEndCharacter)(this.char)?!1:!!"<>=".includes(this.char)}isFullSize(){return(0,C.isFullwidthPunctuation)(this.char)}toMarkdown(){return this.raw}static create(t,r=t){return e.cache.has(r)||e.cache.set(r,new e(t,r)),e.cache.get(r)}static is(t){return(0,C.isPunctuationCharacter)(t)}};fe.Punctuation=he;he.cache=new Map});var ti=a(ge=>{"use strict";Object.defineProperty(ge,"__esModule",{value:!0});ge.ReferenceLink=void 0;var it=class{constructor(t,r){this.children=[],this.kind=128,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}][${this.target}]`}};ge.ReferenceLink=it});var ii=a(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.ReferenceDefinition=void 0;var rt=class{constructor(t,r){this.children=[],this.kind=256,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}]:${this.target}`}};pe.ReferenceDefinition=rt});var ri=a(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.InlineLink=void 0;var nt=class{constructor(t,r){this.children=[],this.kind=512,this.children=t,this.target=r}text(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return`[${this.text()}](${this.target})`}};me.InlineLink=nt});var ni=a(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.InlineCode=void 0;var st=class{constructor(t,r){this.children=[],this.kind=65536,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};ke.InlineCode=st});var si=a(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.MathNode=void 0;var ot=class{constructor(t,r){this.children=[],this.kind=2097152,this.delimiter=r,this.code=t}toMarkdown(){return this.delimiter+this.code+this.delimiter}};_e.MathNode=ot});var oi=a(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.BlockCode=void 0;var ut=class{constructor(t,r,o,l=!0,i=!0){this.children=[],this.kind=16,this.delimiter=r,this.lang=t,this.children=o,this.closed=l,this.langClosed=i}getCode(){return this.children.map(t=>t.toMarkdown()).join("")}toMarkdown(){return this.delimiter+this.lang+(this.langClosed?`
`:"")+this.getCode()+(this.closed?this.delimiter:"")}};we.BlockCode=ut});var at=a(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.Blank=void 0;var kr=R(),ct=class{constructor(t){this.children=[],this.kind=1,this.char=t}toMarkdown(){return this.char}static is(t){return typeof t!="string"?!1:(0,kr.isBlank)(t)}};be.Blank=ct});var dt=a(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.Raw=void 0;var lt=class{constructor(t){this.children=[],this.kind=1048576,this.content=t}toMarkdown(){return this.content}};Me.Raw=lt});var ci=a(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.OrderedListItem=void 0;var ui=R(),ht=class{constructor(t,r){this.children=[],this.kind=1024,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return(0,ui.isNumeric)(t[0])&&t[1]==="."&&(0,ui.isInlineBlank)(t[2])}};Ie.OrderedListItem=ht});var ai=a(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.UnorderedListItem=void 0;var _r=R(),ft=class{constructor(t,r){this.children=[],this.kind=131072,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return"-+*".includes(t[0])&&(0,_r.isInlineBlank)(t[1])}};Se.UnorderedListItem=ft});var li=a(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.Callout=void 0;var gt=class{constructor(t){this.children=[],this.kind=8388608,this.text=t}toMarkdown(){return`[!${this.text}]`}};ve.Callout=gt});var di=a(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.BlockquoteItem=void 0;var pt=class{constructor(t,r){this.children=[],this.kind=4194304,this.prefix=t,this.children=r}toMarkdown(){return this.prefix+this.children.map(t=>t.toMarkdown()).join("")}static isValidPrefix(t){return t[0]===">"}};Pe.BlockquoteItem=pt});var mt=a(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.State=void 0;var wr;(function(e){e[e.LinkText=0]="LinkText",e[e.ReferingUrl=1]="ReferingUrl",e[e.ReferingID=2]="ReferingID",e[e.ReferenceLinkUrl=3]="ReferenceLinkUrl",e[e.ImageText=4]="ImageText",e[e.ImageReferingUrl=5]="ImageReferingUrl",e[e.ImageReferingID=6]="ImageReferingID",e[e.ImageAttributes=7]="ImageAttributes",e[e.HTMLTag=8]="HTMLTag",e[e.Emphasis=9]="Emphasis",e[e.Strong=10]="Strong",e[e.Strikethrough=11]="Strikethrough",e[e.InlineCode=12]="InlineCode",e[e.BlockCodeLang=13]="BlockCodeLang",e[e.Math=14]="Math",e[e.BlockCodeBody=15]="BlockCodeBody",e[e.OrderedListItem=16]="OrderedListItem",e[e.UnorderedListItem=17]="UnorderedListItem",e[e.BlockquoteItem=18]="BlockquoteItem",e[e.CalloutItem=19]="CalloutItem",e[e.Highlight=20]="Highlight",e[e.Quoted=21]="Quoted",e[e.Init=22]="Init"})(wr=z.State||(z.State={}))});var hi=a(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.Stack=void 0;var kt=class{constructor(){this.data=[]}pop(){return this.data.pop()}top(){return this.data[this.size()-1]}[Symbol.iterator](){return this.data[Symbol.iterator]()}size(){return this.data.length}push(t){this.data.push(t)}};ye.Stack=kt});var fi=a(xe=>{"use strict";Object.defineProperty(xe,"__esModule",{value:!0});xe.Mask=void 0;var _t=class{constructor(){this.mask=0,this.counts=Array(32).fill(0)}add(t){for(let r=0,o=1;r<32;r++,o<<=1)t&o&&(this.counts[r]++,this.mask|=o)}remove(t){for(let r=0,o=1;r<32;r++,o<<=1)t&o&&(this.counts[r]--,this.counts[r]===0&&(this.mask&=~o))}};xe.Mask=_t});var gi=a(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.stateMasks=void 0;var I=mt();qe.stateMasks={[I.State.InlineCode]:-33554448,[I.State.Math]:-33554448,[I.State.BlockCodeBody]:-33554448,[I.State.Emphasis]:-53312208,[I.State.Strong]:-53328592,[I.State.Strikethrough]:-53336784,[I.State.LinkText]:-53344336,[I.State.ReferingUrl]:-33554448,[I.State.ImageText]:-52558544,[I.State.ImageReferingUrl]:-33554448,[I.State.ReferenceLinkUrl]:-33554448,[I.State.HTMLTag]:-33554448,[I.State.ReferingID]:-33554448,[I.State.BlockCodeLang]:-33554448,[I.State.OrderedListItem]:-53344976,[I.State.UnorderedListItem]:-53344976,[I.State.Init]:0}});var wt=a(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.matchSubstring=void 0;function br(e,t,r){return e.substr(t,r.length)===r}Ce.matchSubstring=br});var pi=a(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.parseCode=void 0;var Q=dt(),bt=wt(),D=It("//",["/*","*/"],[['"','"']]),Mt=It("//",["/*","*/"],[['"','"'],["'","'"],["`","`"]]),Mr=It("--",["/*","*/"],[['"','"']]),Ir={cpp:D,"c++":D,c:D,java:D,javascript:Mt,js:Mt,csharp:D,"c#":D,typescript:Mt,ts:D,go:D,sql:Mr,bash:F,shell:F,sh:F,python:F,py:F,ruby:F};function Sr(e,t,r,o){let l=Ir[t];return l?[...l(e,r,o)]:[new Q.Raw(e)]}Be.parseCode=Sr;function It(e,t,r){return function*(l,i,k){let d=0,w=0,y=l.length;for(;d<y;){if((0,bt.matchSubstring)(l,d,e)){let S=l.indexOf(`
`,d),v=S===-1?y:S;d+e.length>w&&(yield new Q.Raw(l.slice(w,d+e.length))),yield i(l.slice(d+e.length,v),k),w=d=v;continue}let[j,U]=t;if((0,bt.matchSubstring)(l,d,j)){let S=l.indexOf(U,d+j.length),v=S===-1?y:S;d+j.length>w&&(yield new Q.Raw(l.slice(w,d+j.length))),yield i(l.slice(d+j.length,v),k),w=d=v;continue}for(let[S,v]of r){if(!(0,bt.matchSubstring)(l,d,S))continue;let B=l.indexOf(v,d+S.length);d=B===-1?y:B}d++}w<y&&(yield new Q.Raw(l.slice(w,y)))}}function*F(e,t,r){let o=0,l=0,i=e.length;for(;o<i;)if(e[o]==="#"){let d=e.indexOf(`
`,o),w=d===-1?i:d;o>=l&&(yield new Q.Raw(e.slice(l,o+2))),yield t(e.slice(o+2,w),r),l=o=w}else o++;l<i&&(yield new Q.Raw(e.slice(l,i)))}});var mi=a(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.preprocessIgnores=void 0;function vr(e,t){var r,o;let l=new Map;for(let i of t.ignoreWords){let k=-1,d=0;for(;(k=e.indexOf(i,d))!==-1;){let w=(r=l.get(k))!==null&&r!==void 0?r:0;l.set(k,Math.max(w,i.length)),d=k+i.length}}for(let i of t.ignorePatterns){let k=null;for(;(k=i.exec(e))!==null;){let d=(o=l.get(k.index))!==null&&o!==void 0?o:0;l.set(k.index,Math.max(d,k[0].length))}}return l}je.preprocessIgnores=vr});var xi=a(Re=>{"use strict";Object.defineProperty(Re,"__esModule",{value:!0});Re.parse=void 0;var Oe=R(),Pr=K(),ki=At(),_i=$t(),wi=Qe(),yr=Je(),H=Ft(),bi=Qt(),xr=Ht(),qr=Jt(),Cr=Kt(),Br=zt(),jr=Wt(),Or=Xt(),Lr=Yt(),_=ei(),Rr=ti(),Mi=ii(),Dr=ri(),Ii=ni(),Nr=si(),St=oi(),J=at(),vt=dt(),Pt=ci(),yt=ai(),Si=li(),xt=di(),n=mt(),Tr=hi(),Ur=fi(),vi=gi(),Pi=pi(),Le=wt(),yi=et(),Ar=mi(),qt="<!--md-padding-ignore-begin-->",Ct="<!--md-padding-ignore-end-->";function Bt(e,t){let r=(0,Ar.preprocessIgnores)(e,t),o=new Tr.Stack,l=new Ur.Mask,i=0,k=!0,d="",w="",y="",j=">",U="**",S="*",v="`",B="```",N="$",O=[],L=[],$e,W;for(f(n.State.Init);i<e.length;){let s=o.top().state,c=e[i],p=e.substr(i,2),x=e.substr(i,3);if(!(c===`
`&&Ot()===1)){if(c==="\\"&&Oe.markdownSpecial.has(e[i+1]))u(_.Punctuation.create(e[i+1],e.slice(i,i+2))),i+=2;else if(!Ri())if(s===n.State.InlineCode&&(0,Le.matchSubstring)(e,i,v))u(new Ii.InlineCode(b(),v)),i+=v.length;else if(s===n.State.BlockCodeLang&&e[i]===`
`)w=b(),f(n.State.BlockCodeBody),i++;else if(s===n.State.BlockCodeLang&&x==="```"){let q=b();u(new Ii.InlineCode(q,x)),i+=3}else if(s===n.State.BlockCodeBody&&x===B)u(new St.BlockCode(w,B,(0,Pi.parseCode)(b(),w,Bt,t))),i+=3;else if(s===n.State.Math&&(0,Le.matchSubstring)(e,i,N))u(new Nr.MathNode(b(),N)),i+=N.length;else if(s===n.State.ImageAttributes&&c==="}"){let q=b();W!==void 0?(u(new _i.ReferenceImage(L,W,q)),W=void 0):(u(new ki.InlineImage(L,$e,q)),$e=void 0),i++}else if(s===n.State.ImageReferingID&&c==="]")p==="]{"?(W=b(),f(n.State.ImageAttributes),i+=2):(u(new _i.ReferenceImage(L,b())),i++);else if(s===n.State.ImageReferingUrl&&c===")")p==="){"?($e=b(),f(n.State.ImageAttributes),i+=2):(u(new ki.InlineImage(L,b())),i++);else if(s===n.State.ImageText&&c==="]")L=h(),p==="]["?(i+=2,f(n.State.ImageReferingID)):p==="]("?(i+=2,f(n.State.ImageReferingUrl)):(u(_.Punctuation.create("!"),new H.SquareQuoted(L)),i++);else if(s===n.State.CalloutItem&&c==="]")y=b(),u(new Si.Callout(y)),i++;else if(s===n.State.ReferingID&&c==="]")u(new Rr.ReferenceLink(O,b())),i++;else if(s===n.State.ReferingUrl&&c===")")u(new Dr.InlineLink(O,b())),i++;else if(s===n.State.ReferenceLinkUrl&&c===`
`)u(new Mi.ReferenceDefinition(O,b())),u(new J.Blank(c)),i++;else if(s===n.State.LinkText&&c==="]")O=h(),p==="]:"?(i+=2,f(n.State.ReferenceLinkUrl)):p==="]["?(i+=2,f(n.State.ReferingID)):p==="]("?(i+=2,f(n.State.ReferingUrl)):(u(new H.SquareQuoted(O)),i++);else if(s===n.State.HTMLTag&&c===">")u(new Lr.HTMLTag(b())),i++;else if(s===n.State.Emphasis&&c===S&&c==="_"&&(0,Oe.isWordBoundary)(e[i+1]))u(new bi.Emphasis(h(),S)),i++;else if(s===n.State.Emphasis&&c===S&&c==="*")u(new bi.Emphasis(h(),S)),i++;else if(s===n.State.Strong&&p===U)u(new qr.Strong(h(),U)),i+=2;else if(s===n.State.Strikethrough&&p==="~~")u(new Br.Strikethrough(h())),i+=2;else if(s===n.State.Highlight&&p==="==")u(new Cr.Highlight(h())),i+=2;else if(s===n.State.UnorderedListItem&&c===`
`)u(new yt.UnorderedListItem(d,h()),new J.Blank(c)),i++;else if(s===n.State.OrderedListItem&&c===`
`)u(new Pt.OrderedListItem(d,h()),new J.Blank(c)),i++;else if(s===n.State.BlockquoteItem&&c===`
`)u(new xt.BlockquoteItem(j,h()),new J.Blank(c)),i++;else if(s===n.State.Quoted&&c==='"')u(new xr.Quoted(h())),i++;else if(k&&p==="[!"&&s===n.State.BlockquoteItem)f(n.State.CalloutItem),i+=2;else if(c==="["&&M(640))f(n.State.LinkText),i++;else if(p==="!["&&M(786432))f(n.State.ImageText),i+=2;else if(c==="<"&&(0,Le.matchSubstring)(e,i,qt)){let q=e.indexOf(Ct,i+qt.length);if(q===-1)throw new Error(`unmatched ${qt} at ${i}`);u(new vt.Raw(e.slice(i,q+Ct.length))),i=q+Ct.length}else if(c==="<"&&M(64))f(n.State.HTMLTag),i++;else if(k&&x==="```")f(n.State.BlockCodeLang),B=x,i+=3;else if(!k&&x==="```"&&M(65536))v=x,f(n.State.InlineCode),i+=3;else if(x==="---"&&Ui())f(n.State.BlockCodeLang),B=x,i+=3;else if(p==="``"&&M(65536))v=p,f(n.State.InlineCode),i+=2;else if(c==="`"&&M(65536))v=c,f(n.State.InlineCode),i++;else if(p==="$$"&&M(2097152))N=p,f(n.State.Math),i+=2;else if(c==="$"&&M(2097152))N=c,f(n.State.Math),i++;else if(k&&yt.UnorderedListItem.isValidPrefix(p)&&M(131072)){f(n.State.UnorderedListItem),d=p,i+=2;continue}else if(k&&Pt.OrderedListItem.isValidPrefix(x)&&M(1024)){f(n.State.OrderedListItem),d=x,i+=3;continue}else if(k&&xt.BlockquoteItem.isValidPrefix(p)&&M(4194304)){f(n.State.BlockquoteItem),i++;continue}else if(p==="~~"&&M(8192))f(n.State.Strikethrough),i+=2;else if((p==="**"||p==="__")&&M(16384))U=p,i+=2,f(n.State.Strong);else if(p==="=="&&M(16777216))i+=2,f(n.State.Highlight);else if(c==="*"&&M(32768))S=c,i++,f(n.State.Emphasis);else if(c==="_"&&(0,Oe.isWordBoundary)(e[i-1])&&M(32768))S=c,i++,f(n.State.Emphasis);else if(c==='"'&&M(2048))f(n.State.Quoted),i++;else if((0,Le.matchSubstring)(e,i,"@import")&&M(16)){let q=e.indexOf(`
`,i),Lt=q===-1?e.length:q;u(new vt.Raw(e.slice(i,Lt))),i=Lt}else jt(c);c===`
`&&(k=!0),k&&!(0,Oe.isBlank)(c)&&(k=!1),i>=e.length&&Ot()}}for(;o.size()>1;)Ni();return(0,Or.compactTree)(new jr.Document(h()));function jt(s){_.Punctuation.is(s)?(u(_.Punctuation.create(s)),i++):J.Blank.is(s)?(u(new J.Blank(s)),i++):wi.AlphabetNumeric.is(s)?(u(wi.AlphabetNumeric.create(s)),i++):yi.CJK.is(s)?(u(yi.CJK.create(s)),i++):(u(new yr.UnicodeString(s)),i++)}function Ri(){let s=r.get(i);return s?(u(new vt.Raw(e.slice(i,i+s))),i+=s,!0):!1}function Ot(){for(;;){let s=Di();if(s===0)return s;if(s===1)return 1}}function Di(){switch(o.top().state){case n.State.Quoted:u(_.Punctuation.create('"'),...h());break;case n.State.Strikethrough:u(_.Punctuation.create("~"),_.Punctuation.create("~"),...h());break;case n.State.Emphasis:u(_.Punctuation.create(S),...h());break;case n.State.Strong:u(...[...U].map(c=>_.Punctuation.create(c)),...h());break;case n.State.Highlight:u(_.Punctuation.create("="),_.Punctuation.create("="),...h());break;case n.State.InlineCode:u(...[...v].map(c=>_.Punctuation.create(c)),...h());break;case n.State.Math:u(...[...N].map(c=>_.Punctuation.create(c)),...h());break;case n.State.LinkText:u(_.Punctuation.create("["),...h());break;case n.State.ReferingUrl:u(new H.SquareQuoted(O),_.Punctuation.create("("),...h());break;case n.State.ReferingID:u(new H.SquareQuoted(O),_.Punctuation.create("["),...h());break;case n.State.ImageText:u(_.Punctuation.create("!"),_.Punctuation.create("["),...h());break;case n.State.ImageReferingUrl:u(_.Punctuation.create("!"),new H.SquareQuoted(L),_.Punctuation.create("("),...h());break;case n.State.ImageReferingID:u(_.Punctuation.create("!"),new H.SquareQuoted(L),_.Punctuation.create("["),...h());break;case n.State.HTMLTag:let s=o.top().begin;return h(),i=s,jt("<"),1;default:return 0}}function Ni(){switch(o.top().state){case n.State.ReferenceLinkUrl:u(new Mi.ReferenceDefinition(O,b()));break;case n.State.OrderedListItem:u(new Pt.OrderedListItem(d,h()));break;case n.State.UnorderedListItem:u(new yt.UnorderedListItem(d,h()));break;case n.State.BlockquoteItem:u(new xt.BlockquoteItem(j,h()));break;case n.State.BlockCodeBody:u(new St.BlockCode(w,B,(0,Pi.parseCode)(b(),w,Bt,t),!1));break;case n.State.BlockCodeLang:w=b(),u(new St.BlockCode(w,B,[],!1,!1));break;case n.State.CalloutItem:y=b(),u(new Si.Callout(y));break;default:throw new Error(`closing ${o.top().state} is not implemented`)}}function f(s){o.push({state:s,nodes:[],begin:i}),l.add(vi.stateMasks[s])}function u(...s){o.top().nodes.push(...s)}function Ti(){if(!o.size())return;let s=o.pop();return l.remove(vi.stateMasks[s.state]),s}function h(){return Ti().nodes}function b(){return h().map(s=>s.toMarkdown()).join("")}function M(s){return!(l.mask&s)}function Ui(){if(!M(16))return!1;for(let s of o)for(let c of s.nodes)if(!(0,Pr.isBlank)(c))return!1;return!0}}Re.parse=Bt});var qi=a(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.normalize=void 0;function $r(e={}){return{ignoreWords:new Set(e.ignoreWords),ignorePatterns:(e.ignorePatterns||[]).map(t=>new RegExp(t,"g"))}}De.normalize=$r});var Ci=a(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.padBetweenNodes=void 0;var Er=at(),P=K();function Fr(e){if(e.length<2)return e;let t=[e[0]];for(let r=1;r<e.length;r++)Qr(e[r-1],e[r],e[r-2],e[r+1])&&t.push(new Er.Blank(" ")),t.push(e[r]);return t}Ne.padBetweenNodes=Fr;function Qr(e,t,r,o){return(0,P.isBlank)(e)||(0,P.isBlank)(t)||(0,P.isRaw)(e)||(0,P.isRaw)(t)||(0,P.isDocument)(e)||(0,P.isDocument)(t)?!1:(0,P.isPunctuation)(e)?e.needPaddingAfter(t,r):(0,P.isPunctuation)(t)?t.needPaddingBefore(e,o):(0,P.isCJK)(e)?!(0,P.isCJK)(t):(0,P.isLatin)(e)?!(0,P.isLatin)(t):!0}});var ji=a(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.padRecursively=void 0;var Hr=Ci();function Bi(e){for(let t of e.children)Bi(t);e.children=(0,Hr.padBetweenNodes)(e.children)}Te.padRecursively=Bi});var Oi=a(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.padMarkdown=void 0;var Jr=xi(),Kr=qi(),zr=ji();function Wr(e,t){let r=(0,Kr.normalize)(t),o=(0,Jr.parse)(e,r);return(0,zr.padRecursively)(o),o.toMarkdown()}Ue.padMarkdown=Wr});var Li=a(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.padMarkdown=void 0;var Vr=Oi();Object.defineProperty(Ae,"padMarkdown",{enumerable:!0,get:function(){return Vr.padMarkdown}})});var{padMarkdown:Gr}=Li();module.exports={padMarkdown:Gr};
