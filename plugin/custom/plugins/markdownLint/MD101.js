var S=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var R=S((ke,y)=>{"use strict";y.exports.flatTokensSymbol=Symbol("flat-tokens");y.exports.htmlFlowSymbol=Symbol("html-flow");y.exports.newLineRe=/\r\n?|\n/g;y.exports.nextLinesRe=/[\r\n][\s\S]*$/});var k=S((Te,O)=>{"use strict";var{flatTokensSymbol:v,htmlFlowSymbol:Q}=R();function E(e){return!!e[Q]}function j(e){let{text:n,type:t}=e;if(t==="htmlFlow"&&n.startsWith("<!--")&&n.endsWith("-->")){let i=n.slice(4,-3);return!i.startsWith(">")&&!i.startsWith("->")&&!i.endsWith("-")}return!1}function z(e,n,t){for(let i=n;i<=t;i++)e.add(i)}function D(e,n,t){n=n||(()=>!0);let i=[],r=[{array:e,index:0}];for(;r.length>0;){let s=r[r.length-1],{array:l,index:f}=s;if(f<l.length){let p=l[s.index++];n(p)&&i.push(p);let{children:c}=p;if(c.length>0){let m=t?t(p):c;r.push({array:m,index:0})}}else r.pop()}return i}function F(e,n,t){let i=s=>n.includes(s.type)&&(t||!E(s)),r=e[v];return r?r.filter(i):D(e,i)}function N(e,n,t=1){return F(e,["blockQuotePrefix","linePrefix"]).filter(i=>i.startLine===n).map(i=>i.text).join("").trimEnd().concat(`
`).repeat(t)}function H(e,n){let t=Array.isArray(e)?e:[e];for(let i of n){let r=s=>Array.isArray(i)?i.includes(s.type):i===s.type;t=t.flatMap(s=>s.children.filter(r))}return t}function V(e){let n=1,t=e.children.find(r=>["atxHeadingSequence","setextHeadingLine"].includes(r.type)),{text:i}=t;return i[0]==="#"?n=Math.min(i.length,6):i[0]==="-"&&(n=2),n}function G(e){return e.type==="setextHeading"?"setext":e.children.filter(t=>t.type==="atxHeadingSequence").length===1?"atx":"atx_closed"}function X(e){return H(e,[["atxHeadingText","setextHeadingText"]])[0]?.text.replace(/[\r\n]+/g," ")||""}function Z(e){let n=/^<([^!>][^/\s>]*)/;if(e.type==="htmlText"){let t=n.exec(e.text);if(t){let i=t[1],r=i.startsWith("/");return{close:r,name:r?i.slice(1):i}}}return null}function J(e,n){let t=e;for(;(t=t.parent)&&!n.includes(t.type););return t}var K=new Set(["blockQuoteMarker","blockQuotePrefix","blockQuotePrefixWhitespace","lineEnding","lineEndingBlank","linePrefix","listItemIndent"]);O.exports={addRangeToSet:z,filterByPredicate:D,filterByTypes:F,getBlockQuotePrefixText:N,getDescendantsByType:H,getHeadingLevel:V,getHeadingStyle:G,getHeadingText:X,getHtmlTagInfo:Z,getParentOfType:J,inHtmlFlow:E,isHtmlFlowComment:j,nonContentTokens:K}});var W=S((Ce,o)=>{"use strict";var x=k(),{newLineRe:B,nextLinesRe:Y}=R();o.exports.newLineRe=B;o.exports.nextLinesRe=Y;o.exports.frontMatterRe=/((^---[^\S\r\n\u2028\u2029]*$[\s\S]+?^---\s*)|(^\+\+\+[^\S\r\n\u2028\u2029]*$[\s\S]+?^(\+\+\+|\.\.\.)\s*)|(^\{[^\S\r\n\u2028\u2029]*$[\s\S]+?^\}\s*))(\r\n|\r|\n|$)/m;var ee=/(<!--\s*markdownlint-(disable|enable|capture|restore|disable-file|enable-file|disable-line|disable-next-line|configure-file))(?:\s|-->)/gi;o.exports.inlineCommentStartRe=ee;o.exports.endOfLineHtmlEntityRe=/&(?:#\d+|#[xX][\da-fA-F]+|[a-zA-Z]{2,31}|blk\d{2}|emsp1[34]|frac\d{2}|sup\d|there4);$/;o.exports.endOfLineGemojiCodeRe=/:(?:[abmovx]|[-+]1|100|1234|(?:1st|2nd|3rd)_place_medal|8ball|clock\d{1,4}|e-mail|non-potable_water|o2|t-rex|u5272|u5408|u55b6|u6307|u6708|u6709|u6e80|u7121|u7533|u7981|u7a7a|[a-z]{2,15}2?|[a-z]{1,14}(?:_[a-z\d]{1,16})+):$/;var I=".,;:!?\u3002\uFF0C\uFF1B\uFF1A\uFF01\uFF1F";o.exports.allPunctuation=I;o.exports.allPunctuationNoQuestion=I.replace(/[?ï¼Ÿ]/gu,"");function te(e){return typeof e=="number"}o.exports.isNumber=te;function ne(e){return typeof e=="string"}o.exports.isString=ne;function ie(e){return e.length===0}o.exports.isEmptyString=ie;function re(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}o.exports.isObject=re;function M(e){return!!e&&Object.getPrototypeOf(e)===URL.prototype}o.exports.isUrl=M;function se(e){return Array.isArray(e)?[...e]:e}o.exports.cloneIfArray=se;function oe(e){return M(e)?new URL(e):e}o.exports.cloneIfUrl=oe;o.exports.getHtmlAttributeRe=function(n){return new RegExp(`\\s${n}\\s*=\\s*['"]?([^'"\\s>]*)`,"iu")};function ce(e){let n="<!--",t="-->",i=r=>{for(;;){let s=r.indexOf(n),l=r.indexOf(t);if(l!==-1&&(s===-1||l<s))r=r.slice(l+t.length);else if(s!==-1&&l!==-1)r=r.slice(0,s)+r.slice(l+t.length);else if(s!==-1&&l===-1)r=r.slice(0,s);else return r}};return!e||!e.trim()||!i(e).replace(/>/g,"").trim()}o.exports.isBlankLine=ce;var L="<!--",P="-->",q=".",le=/^ *\|/,ae=/[^\r\n]/g,fe=/[^ \r\n]/g,de=/ +[\r\n]/g,ue=e=>e.replace(ae,q);o.exports.clearHtmlCommentText=function(n){let t=0;for(;(t=n.indexOf(L,t))!==-1;){let i=n.indexOf(P,t+2);if(i===-1)break;if(i>t+L.length){let r=n.slice(t+L.length,i),s=n.lastIndexOf(`
`,t)+1,l=n.slice(s,t),f=l.trim().length===0,c=le.test(l)&&r.includes(`
`);if(f||!(c||r.startsWith(">")||r.startsWith("->")||r.endsWith("-")||r.includes("--"))){let a=r.replace(fe,q).replace(de,ue);n=n.slice(0,t+L.length)+a+n.slice(i)}}t=i+P.length}return n};o.exports.escapeForRegExp=function(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};function A(e,n,t){return e.length<=30||(n&&t?e=e.slice(0,15)+"..."+e.slice(-15):t?e="..."+e.slice(-30):e=e.slice(0,30)+"..."),e}o.exports.ellipsify=A;function T(e,n,t,i,r,s){e({lineNumber:n,detail:t,context:i,range:r,fixInfo:s})}o.exports.addError=T;function pe(e,n,t,i,r,s,l,f){t!==i&&T(e,n,"Expected: "+t+"; Actual: "+i+(r?"; "+r:""),s,l,f)}o.exports.addErrorDetailIf=pe;function me(e,n,t,i,r,s,l){t=A(t,i,r),T(e,n,void 0,t,s,l)}o.exports.addErrorContext=me;var $=(e,n,t,i)=>e<t||e===t&&n<=i;o.exports.hasOverlap=function(n,t){let i=$(n.startLine,n.startColumn,t.startLine,t.startColumn),r=i?n:t,s=i?t:n;return $(s.startLine,s.startColumn,r.endLine,r.endColumn)};o.exports.frontMatterHasTitle=function(n,t){let i=t!==void 0&&!t,r=new RegExp(String(t||'^\\s*"?title"?\\s*[:=]'),"i");return!i&&n.some(s=>r.test(s))};function ge(e){let n=c=>c.toLowerCase().trim().replace(/\s+/g," "),t=new Map,i=new Map,r=(c,m,a)=>{let d=[c.startLine-1,c.startColumn-1,c.text.length],u=n(m),g=a?i:t,h=g.get(u)||[];h.push(d),g.set(u,h)},s=new Map,l=[],f=[],p=x.filterByTypes(e,["definition","gfmFootnoteDefinition","definitionLabelString","gfmFootnoteDefinitionLabelString","gfmFootnoteCall","image","link","undefinedReferenceCollapsed","undefinedReferenceFull","undefinedReferenceShortcut"]);for(let c of p){let m="";switch(c.type){case"definition":case"gfmFootnoteDefinition":for(let a=c.startLine;a<=c.endLine;a++)l.push(a-1);break;case"gfmFootnoteDefinitionLabelString":m="^";case"definitionLabelString":{let a=n(`${m}${c.text}`);if(s.has(a))f.push([a,c.startLine-1]);else{let d=x.getParentOfType(c,["definition"]),u=d&&x.getDescendantsByType(d,["definitionDestination","definitionDestinationRaw","definitionDestinationString"])[0]?.text;s.set(a,[c.startLine-1,u])}}break;case"gfmFootnoteCall":case"image":case"link":{let a=c.children.length===1,d=c.children.length===2&&!c.children.some(b=>b.type==="resource"),[u]=x.getDescendantsByType(c,["label","labelText"]),[g]=x.getDescendantsByType(c,["reference","referenceString"]),h=u?.text;if(!a&&!d){let[b,w]=c.children.filter(_=>["gfmFootnoteCallMarker","gfmFootnoteCallString"].includes(_.type));b&&w&&(h=`${b.text}${w.text}`,a=!0)}(a||d)&&r(c,g?.text||h,a)}break;case"undefinedReferenceCollapsed":case"undefinedReferenceFull":case"undefinedReferenceShortcut":{let d=x.getDescendantsByType(c,["undefinedReference"])[0].children.map(g=>g.text).join(""),u=c.type==="undefinedReferenceShortcut";r(c,d,u)}break}}return{references:t,shortcuts:i,definitions:s,duplicateDefinitions:f,definitionLineIndices:l}}o.exports.getReferenceLinkImageData=ge;function xe(e,n){let t=0,i=0,r=0,s=e.match(B)||[];for(let f of s)switch(f){case"\r":t++;break;case`
`:i++;break;case`\r
`:r++;break}let l=null;return!t&&!i&&!r?l=n&&n.EOL||`
`:i>=r&&i>=t?l=`
`:r>=t?l=`\r
`:l="\r",l}o.exports.getPreferredLineEnding=xe;function he(e,n){let t=n&&n.homedir&&n.homedir();return t?e.replace(/^~($|\/|\\)/,`${t}$1`):e}o.exports.expandTildePath=he});var{addErrorContext:ye,isBlankLine:C}=W(),{getParentOfType:be,filterByTypes:Le}=k(),Se=/^(.*?)[$\[]/;function U(e,n,t,i){let r=n[t-1],[,s]=r.match(Se)||[],l=s===void 0?void 0:{lineNumber:t+(i?0:1),insertText:`${s.replace(/[^>]/g," ").trim()}
`};ye(e,t,r.trim(),void 0,void 0,void 0,l)}module.exports={names:["MD101","math-surrounded-by-blank-lines"],description:"Math Blocks should be surrounded by blank lines",tags:["math","blank_lines"],parser:"micromark",function:(e,n)=>{let t=e.config.list_items,i=t===void 0?!0:!!t,{lines:r}=e;for(let s of Le(e.parsers.micromark.tokens,["mathFlow"]))(i||!be(s,["listOrdered","listUnordered"]))&&(C(r[s.startLine-2])||U(n,r,s.startLine,!0),!C(r[s.endLine])&&!C(r[s.endLine-1])&&U(n,r,s.endLine,!1))}};
